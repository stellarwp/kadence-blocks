(function(){"use strict";var a={initAll(){const a=document.querySelectorAll(".wp-block-kadence-advancedgallery .kt-blocks-carousel-init");this.bootstrapSliders(a,!0);const b=document.querySelectorAll(".wp-block-kadence-testimonials .kt-blocks-carousel-init");this.bootstrapSliders(b);const c=document.querySelectorAll(".kb-blocks-bg-slider > .kt-blocks-carousel-init");this.bootstrapSliders(c)},initAllOptimized(){const a=document.querySelectorAll(".wp-block-kadence-advancedgallery .kt-blocks-carousel-init, .wp-block-kadence-testimonials .kt-blocks-carousel-init, .kb-blocks-bg-slider > .kt-blocks-carousel-init");if(0===a.length)return;const b=new IntersectionObserver(a=>{a.forEach(a=>{if(a.isIntersecting){const c=a.target;b.unobserve(c);const d=!!c.closest(".wp-block-kadence-advancedgallery");this.deferSliderInit(c,d)}})},{rootMargin:"150px 0px"});a.forEach(a=>{b.observe(a)})},deferSliderInit(a,b=!1){requestAnimationFrame(()=>{requestAnimationFrame(()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{this.bootstrapSliders([a],b)},{timeout:1e3}):setTimeout(()=>{this.bootstrapSliders([a],b)},100)})})},bootstrapSliders(a,b=!1){if(a&&0!==a.length)for(let d=0;d<a.length;d++){const e=a[d];let f,g,h;if(b){if(!e||e.classList.contains("is-initialized"))continue;if(h=e,e.classList.contains("splide")&&e.classList.contains("kt-blocks-carousel-init"))f=e;else if(f=e.closest(".kt-blocks-carousel.splide"),!f)if(f=e.closest(".kt-blocks-carousel"),f)f.classList.add("splide");else continue;if(f.classList.contains("is-initialized"))continue;const a=f===e?f:e;g=this.createSplideElements(a)}else{if(f=e,!f||!f.children||f.classList.contains("is-initialized"))continue;h=f,g=this.createSplideElements(f)}f.classList.add("kb-splide");const i=this.parseDataset(f.dataset),j=!!f.closest(".kadence-menu-mega-enabled");i.sliderDirection=document.querySelector("html[dir=\"rtl\"]")?"rtl":"ltr",f.addEventListener("load",function(a){a.classList.remove("kt-post-carousel-loading")});const k=this.getSplideOptions(i);f.classList.add("splide-initialized"),f.classList.add("splide-slider");const{sliderType:l}=i;if(l&&"fluidcarousel"===l){const a=f.querySelectorAll(".kb-slide-item");a.forEach(function(a){a.style.maxWidth=f.clientWidth?Math.floor(80/100*f.clientWidth)+"px":"100%"});const b=a.length,d=new Splide(f,{...k,focus:!1===i.sliderCenterMode?0:"center",autoWidth:!0,preloadPages:1>=b?0:Math.floor(b/2),arrows:!!(1<b)&&k.arrows,pagination:!!(1<b)&&k.pagination,drag:!!(1<b)&&k.drag,clones:1<b?void 0:0});d.on("pagination:mounted",function(){var a=f.querySelectorAll(".splide__pagination__page");a.forEach(function(a){a.addEventListener("keydown",function(a){if(" "===a.key||"Enter"===a.key){a.preventDefault();var b=d?.index||0,c=d?.Components?.Slides?.getAt(b)?.slide;c&&(c.setAttribute("tabindex","0"),c.focus())}})})}),d.mount(),h&&h.classList.add("is-initialized");var c;const e=function(a){clearTimeout(c),c=setTimeout(function(){f.querySelectorAll(".kb-slide-item").forEach(function(a){a.style.maxWidth=Math.floor(80/100*f.clientWidth)+"px"})},10)};window.addEventListener("resize",e)}else if(l&&"slider"===l){k.type=void 0===i.sliderFade?"fade":i.sliderFade?"fade":"slide",k.rewind=!0;const a=new Splide(f,k);a.on("overflow",function(b){a.options={arrows:1!==g&&k.arrows,pagination:1!==g&&k.pagination,drag:1!==g&&k.drag}}),a.on("pagination:mounted",function(){var b=f.querySelectorAll(".splide__pagination__page");b.forEach(function(b){b.addEventListener("keydown",function(b){if(" "===b.key||"Enter"===b.key){b.preventDefault();var c=a?.index||0,d=a?.Components?.Slides?.getAt(c)?.slide;d&&(d.setAttribute("tabindex","0"),d.focus())}})})}),a.mount(),h&&h.classList.add("is-initialized")}else if(l&&"thumbnail"===l){const a=i.sliderNav,b=document.querySelector("#"+a);if(!b)continue;b.classList.contains("splide")||b.classList.add("splide"),b.classList.add("kb-splide"),this.createSplideElements(b);const c=this.parseDataset(b.dataset),d=this.getSplideOptions(c),e=k;e.isNavigation=!0,e.pagination=!1,e.type="loop",e.arrows=!0,d.type=c.sliderFade||void 0===c.sliderFade?"fade":"slide",d.rewind=!0,d.pagination=!1,d.direction=e.direction,b.classList.add("slick-initialized"),b.classList.add("slick-slider");const g=new Splide(f,d),j=new Splide(b,e);j.on("overflow",function(a){j.go(0),j.options={arrows:!!e.arrows&&a,pagination:!!e.pagination&&a,drag:!!e.drag&&a,rewind:!a,type:a?e.type:"slide",clones:a?void 0:0}}),g.sync(j),g.mount(),j.mount(),h&&h.classList.add("is-initialized")}else if(l&&"rewind"===l){k.type="slide",k.rewind=!0;const a=new Splide(f,k);j||a.on("overflow",function(b){a.go(0),a.options={arrows:!!k.arrows&&b,pagination:!!k.pagination&&b,drag:!!k.drag&&b,clones:b?void 0:0}}),a.on("pagination:mounted",function(){var b=f.querySelectorAll(".splide__pagination__page");b.forEach(function(b){b.addEventListener("keydown",function(b){if(" "===b.key||"Enter"===b.key){b.preventDefault();var c=a?.index||0,d=a?.Components?.Slides?.getAt(c)?.slide;d&&(d.setAttribute("tabindex","0"),d.focus())}})})}),a.mount(),h&&h.classList.add("is-initialized")}else{const a=new Splide(f,k);j||a.on("overflow",function(b){a.go(0),a.options={arrows:!!k.arrows&&b,pagination:!!k.pagination&&b,drag:!!k.drag&&b,clones:b?void 0:0}}),a.on("pagination:mounted",function(){var b=f.querySelectorAll(".splide__pagination__page");b.forEach(function(b){b.addEventListener("keydown",function(b){if(" "===b.key||"Enter"===b.key){b.preventDefault();var c=a?.index||0,d=a?.Components?.Slides?.getAt(c)?.slide;d&&(d.setAttribute("tabindex","0"),d.focus())}})})}),a.mount(),h&&h.classList.add("is-initialized")}}},parseDataset(a){return Object.keys(a).reduce((b,c)=>{const d=parseInt(a[c]);return Number.isNaN(d)||c.includes("sliderGap")?"true"===a[c]||"false"===a[c]?{...b,[c]:JSON.parse(a[c])}:{...b,[c]:a[c]}:{...b,[c]:d}},{})},createSplideElements(a){const b=a.querySelector(".kb-gallery-pause-button");if(b){const c=a.querySelector(".splide__track");c&&c.contains(b)&&(b.remove(),c.nextSibling?a.insertBefore(b,c.nextSibling):a.appendChild(b))}const c=a.querySelectorAll(".splide__slide, .kb-slide-item");let d=0;return c.forEach(function(a){a.classList.contains("kb-gallery-pause-button")||(!a.classList.contains("splide__slide")&&a.classList.add("splide__slide"),d++),a.classList.contains("last")&&a.classList.remove("last")}),a.classList.add("splide"),d},getSplideOptions(a){const b=1===a.sliderScroll&&1,c={trimSpace:!0,drag:!0,perPage:a.columnsXxl||1,type:a.sliderFade?"fade":"loop",easing:a.sliderAnimSpeed&&1e3<a.sliderAnimSpeed?"linear":"cubic-bezier(0.25, 1, 0.5, 1)",lazyLoad:"nearby",autoplay:a.sliderAuto||!1,interval:a.sliderSpeed||7e3,speed:a.sliderAnimSpeed||400,arrows:a.sliderArrows||!1,pagination:a.sliderDots||!1,direction:a.sliderDirection,pauseOnHover:a.sliderPauseHover||!1,gap:a.sliderGap||0,label:a.sliderLabel||"",breakpoints:{543:{perPage:a.columnsSs||1,perMove:b||a.scrollSs,gap:a.sliderGapMobile||0},767:{perPage:a.columnsXs||1,perMove:b||a.columnsXs,gap:a.sliderGapMobile||0},991:{perPage:a.columnsSm||1,perMove:b||a.columnsSm,gap:a.sliderGapTablet||0},1199:{perPage:a.columnsMd||1,perMove:b||a.columnsMd,gap:a.sliderGapTablet||0},1499:{perPage:a.columnsXl||1,perMove:b||a.columnsXl,gap:a.sliderGap||0}},classes:{prev:"splide__arrow--prev slick-prev",next:"splide__arrow--next slick-next"},i18n:{prev:window?.kb_splide?.i18n?.prev,next:window?.kb_splide?.i18n?.next,first:window?.kb_splide?.i18n?.first,last:window?.kb_splide?.i18n?.last,slideX:window?.kb_splide?.i18n?.slideX,pageX:window?.kb_splide?.i18n?.pageX,play:window?.kb_splide?.i18n?.play,pause:window?.kb_splide?.i18n?.pause,carousel:window?.kb_splide?.i18n?.carousel,slide:window?.kb_splide?.i18n?.slide,select:window?.kb_splide?.i18n?.select,slideLabel:window?.kb_splide?.i18n?.slideLabel}};return(1===c.perPage||b)&&(c.focus=0,c.perMove=b||a.columnsXxl||1),c},init(){if("function"==typeof Splide)document.body.classList.contains("kb-optimized")?a.initAllOptimized():a.initAll();else var b=setInterval(function(){"function"==typeof Splide?(document.body.classList.contains("kb-optimized")?a.initAllOptimized():a.initAll(),clearInterval(b)):console.log("No Splide found")},200)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a.init):a.init(),document.addEventListener("kadenceJSInitReload",function(){a.init()}),document.addEventListener("kb-query-loaded",function(){a.init()})})();
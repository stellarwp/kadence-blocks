(function(){"use strict";window.kadenceNavigation={initOutlineToggle(){document.body.addEventListener("keydown",function(){document.body.classList.remove("hide-focus-outline")}),document.body.addEventListener("mousedown",function(){document.body.classList.add("hide-focus-outline")})},getOffset(a){if(a instanceof HTMLElement){var b=a.getBoundingClientRect();return{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset}}return{top:null,left:null}},findParents(a,b){function c(a){var e=a.parentNode;e instanceof HTMLElement&&(e.matches(b)&&d.push(e),c(e))}var d=[];return c(a),d},toggleAttribute(a,b,c,d){c===void 0&&(c=!0),d===void 0&&(d=!1),a.getAttribute(b)===c?a.setAttribute(b,d):a.setAttribute(b,c)},initNavToggleSubmenus(){var a=document.querySelectorAll(".wp-block-kadence-navigation .kb-nav-toggle-sub");if(a.length)for(let b=0;b<a.length;b++)window.kadenceNavigation.initEachNavToggleSubmenu(a[b]),window.kadenceNavigation.initEachNavToggleSubmenuInside(a[b])},initEachNavToggleSubmenu(a){var b=a.querySelectorAll(".menu .sub-menu");if(b.length)for(let d=0;d<b.length;d++){var c=b[d].parentNode;const e=c.querySelector(".title-dropdown-navigation-toggle");if(e){const e=c.querySelector(".kb-link-wrap");e.appendChild(dropdownBtn),e.appendChild(dropdownBtnSpecial),dropdownBtnSpecial.addEventListener("click",function(a){a.preventDefault(),window.kadenceNavigation.toggleSubMenu(a.target.closest("li"))}),c.addEventListener("mouseleave",function(b){const c=a.closest(".wp-block-kadence-navigation");c.classList.contains("is-horizontal")&&window.kadenceNavigation.toggleSubMenu(b.target,!1)}),c.querySelector("a").addEventListener("focus",function(a){var b=a.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let c=0;c<b.length;c++)window.kadenceNavigation.toggleSubMenu(b[c],!1)}),b[d].addEventListener("keydown",function(a){9===a.keyCode&&(a.shiftKey?window.kadenceNavigation.isfirstFocusableElement(b[d],document.activeElement,"ul.toggle-show > li > a, ul.toggle-show > li > .dropdown-navigation-toggle")&&window.kadenceNavigation.toggleSubMenu(b[d].parentNode,!1):window.kadenceNavigation.islastFocusableElement(b[d],document.activeElement,"ul.toggle-show > li > a, ul.toggle-show > li > .dropdown-navigation-toggle")&&window.kadenceNavigation.toggleSubMenu(b[d].parentNode,!1)),27===a.keyCode&&window.kadenceNavigation.toggleSubMenu(b[d].parentNode,!1)}),b[d].parentNode.classList.add("menu-item--has-toggle")}}},initEachNavToggleSubmenuInside(a){var b=a.querySelectorAll(".menu-item-has-children");if(b.length)for(let a=0;a<b.length;a++)b[a].addEventListener("mouseenter",function(){if(b[a].querySelector("ul.sub-menu")){var c=b[a].querySelector("ul.sub-menu"),d=window.kadenceNavigation.getOffset(c),e=d.left,f=c.offsetWidth,g=window.innerWidth;e+f<=g||c.classList.add("sub-menu-edge")}})},toggleSubMenu(a,b){var c=a.querySelector(".dropdown-navigation-toggle"),d=a.querySelector("ul");let e=a.classList.contains("menu-item--toggled-on");var f=a.querySelector(".link-drop-title-wrap").firstChild.textContent.trim();if(void 0!==b&&"boolean"==typeof b&&(e=!b),c.setAttribute("aria-expanded",(!e).toString()),e){a.classList.remove("menu-item--toggled-on"),d.classList.remove("toggle-show"),c.setAttribute("aria-label",f?kadenceNavigationConfig.screenReader.expandOf+" "+f:kadenceNavigationConfig.screenReader.expand);var g=a.querySelectorAll(".menu-item--toggled-on");for(let a=0;a<g.length;a++)window.kadenceNavigation.toggleSubMenu(g[a],!1)}else{var h=a.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let a=0;a<h.length;a++)window.kadenceNavigation.toggleSubMenu(h[a],!1);a.classList.add("menu-item--toggled-on"),d.classList.add("toggle-show"),c.setAttribute("aria-label",f?kadenceNavigationConfig.screenReader.collapseOf+" "+f:kadenceNavigationConfig.screenReader.collapse)}},isfirstFocusableElement(a,b,c){var d=a.querySelectorAll(c);return!!(0<d.length)&&b===d[0]},islastFocusableElement(a,b,c){var d=a.querySelectorAll(c);return!!(0<d.length)&&b===d[d.length-1]},toggleDrawer(a,b){b="undefined"==typeof b||b;var c=a,d=c.closest("li");if(d){var e=window.innerWidth-document.documentElement.clientWidth,f=0;if(window.kadenceNavigation.toggleAttribute(c,"aria-expanded","true","false"),d.classList.contains("menu-item--toggled-on"))c.dataset.toggleBodyClass&&document.body.classList.remove(c.dataset.toggleBodyClass),d.classList.remove("active"),d.classList.remove("pop-animated"),document.body.classList.remove("kadence-scrollbar-fixer"),setTimeout(function(){d.classList.remove("menu-item--toggled-on");var a=new Event("kadence-drawer-closed");if(window.dispatchEvent(a),c.dataset.setFocus&&b){var e=document.querySelector(c.dataset.setFocus);e&&(e.focus(),e.hasAttribute("aria-expanded")&&window.kadenceNavigation.toggleAttribute(e,"aria-expanded","true","false"))}},f);else if(d.classList.add("menu-item--toggled-on"),c.dataset.toggleBodyClass&&(document.body.classList.toggle(c.dataset.toggleBodyClass),c.dataset.toggleBodyClass.includes("showing-popup-drawer-")&&(document.body.style.setProperty("--scrollbar-offset",e+"px"),document.body.classList.add("kadence-scrollbar-fixer"))),setTimeout(function(){d.classList.add("active");var a=new Event("kadence-drawer-opened");if(window.dispatchEvent(a),c.dataset.setFocus&&b){var e=document.querySelector(c.dataset.setFocus);if(e){e.hasAttribute("aria-expanded")&&window.kadenceNavigation.toggleAttribute(e,"aria-expanded","true","false");var f=e.value;e.value="",e.focus(),e.value=f}}},10),setTimeout(function(){d.classList.add("pop-animated")},f),d.classList.contains("popup-drawer")){var g=d.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])"),h=g[0],i=g[g.length-1];document.addEventListener("keydown",function(a){const b="Tab"===a.key||9===a.keyCode;b&&(a.shiftKey?document.activeElement===h&&(i.focus(),a.preventDefault()):document.activeElement===i&&(h.focus(),a.preventDefault()))})}}},initToggleDrawer(){var a=document.querySelectorAll(".drawer-toggle");if(a.length){for(let b=0;b<a.length;b++)a[b].addEventListener("click",function(c){c.preventDefault(),window.kadenceNavigation.toggleDrawer(a[b])});document.addEventListener("keyup",function(a){27===a.keyCode&&document.querySelectorAll(".popup-drawer.menu-item--toggled-on.active")&&(a.preventDefault(),document.querySelectorAll(".popup-drawer.menu-item--toggled-on.active").forEach(function(a){window.kadenceNavigation.toggleDrawer(document.querySelector("*[data-toggle-target=\""+a.dataset.drawerTargetString+"\"]"))}))}),document.addEventListener("click",function(a){var b=a.target,c=document.querySelector(".menu-item--toggled-on.active .drawer-overlay");b===c&&window.kadenceNavigation.toggleDrawer(document.querySelector("*[data-toggle-target=\""+c.dataset.drawerTargetString+"\"]"));var d=document.querySelector("#search-drawer.menu-item--toggled-on.active .drawer-content"),c=document.querySelector("#search-drawer.menu-item--toggled-on.active .drawer-overlay");b===d&&window.kadenceNavigation.toggleDrawer(document.querySelector("*[data-toggle-target=\""+c.dataset.drawerTargetString+"\"]"))})}},initMobileToggleSub(){var a=document.querySelectorAll(".wp-block-kadence-navigation .vertical-sub-toggle");if(a.length)for(let b=0;b<a.length;b++)a[b].addEventListener("click",function(c){c.preventDefault(),window.kadenceNavigation.toggleDrawer(a[b])})},initMobileToggleAnchor(){var a=document.getElementById("mobile-drawer");if(a){var b=a.querySelectorAll("a:not(.kt-tab-title)");if(b.length)for(let c=0;c<b.length;c++)b[c].addEventListener("click",function(){window.kadenceNavigation.toggleDrawer(a.querySelector(".menu-toggle-close"),!1)})}},initTransHeaderPadding(){if(!document.body.classList.contains("no-header")&&document.body.classList.contains("transparent-header")&&document.body.classList.contains("mobile-transparent-header")){var a=document.querySelector(".entry-hero-container-inner"),b=document.querySelector("#masthead"),c=function(){b,a.style.paddingTop=kadenceNavigationConfig.breakPoints.desktop<=window.innerWidth?document.body.classList.contains("transparent-header")?b.offsetHeight+"px":0:document.body.classList.contains("mobile-transparent-header")?b.offsetHeight+"px":0};a&&(window.addEventListener("resize",c,!1),window.addEventListener("scroll",c,!1),window.addEventListener("load",c,!1),c())}},getTopOffset(a="scroll"){if("load"===a)var b=document.querySelector("#main-header .kadence-sticky-header"),c=document.querySelector("#mobile-header .kadence-sticky-header");else var b=document.querySelector("#main-header .kadence-sticky-header:not([data-reveal-scroll-up=\"true\"])"),c=document.querySelector("#mobile-header .kadence-sticky-header:not([data-reveal-scroll-up=\"true\"])");var d=0,e=0;if(kadenceNavigationConfig.breakPoints.desktop<=window.innerWidth){if(b){var f=b.getAttribute("data-shrink");d="true"!==f||b.classList.contains("site-header-inner-wrap")?Math.floor(b.offsetHeight):Math.floor(b.getAttribute("data-shrink-height"))}else d=0;document.body.classList.contains("admin-bar")&&(e=32)}else{if(c){var f=c.getAttribute("data-shrink");d="true"===f?Math.floor(c.getAttribute("data-shrink-height")):Math.floor(c.offsetHeight)}else d=0;document.body.classList.contains("admin-bar")&&(e=46)}return Math.floor(d+e+Math.floor(kadenceNavigationConfig.scrollOffset))},scrollToElement(a,b,c="scroll"){b=!("undefined"!=typeof b)||b;var d=window.kadenceNavigation.getTopOffset(c),e=Math.floor(a.getBoundingClientRect().top)-d;window.scrollBy({top:e,left:0,behavior:"smooth"}),a.tabIndex="-1",a.focus({preventScroll:!0}),a.classList.contains("kt-title-item")&&a.firstElementChild.click(),b&&window.history.pushState("","","#"+a.id)},anchorScrollToCheck(a,b){if(b="undefined"==typeof b?null:b,a.target.getAttribute("href"))var c=a.target;else{var c=a.target.closest("a");if(!c)return;if(!c.getAttribute("href"))return}if(!(c.parentNode&&c.parentNode.hasAttribute("role")&&"tab"===c.parentNode.getAttribute("role"))){var d=b?b.getAttribute("href").substring(b.getAttribute("href").indexOf("#")):c.getAttribute("href").substring(c.getAttribute("href").indexOf("#"));var e=document.getElementById(d.replace("#",""));e&&(a.preventDefault(),window.kadenceNavigation.scrollToElement(e))}},initStickySidebarWidget(){if(document.body.classList.contains("has-sticky-sidebar-widget")){var a=window.kadenceNavigation.getTopOffset(),b=document.querySelector("#secondary .sidebar-inner-wrap .widget:last-child");b&&(b.style.top=Math.floor(a+20)+"px",b.style.maxHeight="calc( 100vh - "+Math.floor(a+20)+"px )")}},initStickySidebar(){if(document.body.classList.contains("has-sticky-sidebar")){var a=window.kadenceNavigation.getTopOffset(),b=document.querySelector("#secondary .sidebar-inner-wrap");b&&(b.style.top=Math.floor(a+20)+"px",b.style.maxHeight="calc( 100vh - "+Math.floor(a+20)+"px )")}},initAnchorScrollTo(){if(!document.body.classList.contains("no-anchor-scroll")){if(window.onhashchange=function(){""===window.location.hash&&(window.scrollTo({top:0,behavior:"smooth"}),document.activeElement.blur())},""!=window.location.hash){var a,b=location.hash.substring(1);if(!/^[A-z0-9_-]+$/.test(b))return;a=document.getElementById(b),a&&window.setTimeout(function(){window.kadenceNavigation.scrollToElement(a,!1,"load")},100)}var c=document.querySelectorAll("a[href*=\\#]:not([href=\\#]):not(.scroll-ignore):not([data-tab]):not([data-toggle])");c.length&&c.forEach(function(a){try{var b=new URL(a.href);b.pathname===window.location.pathname&&a.addEventListener("click",function(a){window.kadenceNavigation.anchorScrollToCheck(a)})}catch(b){console.log("ClassList: "+a.classList,"Invalid URL")}})}},initScrollToTop(){var a=document.getElementById("kt-scroll-up");if(a){var b=function(){100<window.scrollY?a.classList.add("scroll-visible"):a.classList.remove("scroll-visible")};window.addEventListener("scroll",b),b(),a.addEventListener("click",function(a){a.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),document.activeElement.blur()})}var c=document.getElementById("kt-scroll-up-reader");c&&c.addEventListener("click",function(a){a.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),document.querySelector(".skip-link").focus()})},initTrackOrientation(){window.onresize=window.kadenceNavigation.trackOrientation,window.kadenceNavigation.trackOrientation()},trackOrientation(){const a=document.querySelectorAll(".wp-block-kadence-navigation");for(let c=0;c<a.length;c++){const d=a[c];var b=!1;1024<=window.innerWidth?d.classList.contains("navigation-desktop-orientation-vertical")&&(b=!0):1024>window.innerWidth&&768<=window.innerWidth?d.classList.contains("navigation-tablet-orientation-vertical")&&(b=!0):768>window.innerWidth&&d.classList.contains("navigation-mobile-orientation-vertical")&&(b=!0),b?(d.classList.remove("is-horizontal"),d.classList.add("is-vertical")):(d.classList.remove("is-vertical"),d.classList.add("is-horizontal"))}},runSubMenuContentSize(){var a=document.querySelectorAll(".wp-block-kadence-navigation .kadence-menu-mega-width-content > ul.sub-menu");for(let d=0;d<a.length;d++){var b=a[d].parentNode,c=a[d].closest(".wp-block-kadence-navigation");a[d].style.left="",a[d].style.width=c.offsetWidth+"px",a[d].style.left=-1*Math.abs(b.getBoundingClientRect().left-c.getBoundingClientRect().left).toString()+"px"}},initContentSubMenuSize(){var a=document.querySelectorAll(".wp-block-kadence-navigation .kadence-menu-mega-width-content > ul.sub-menu");if(a.length){var b;window.addEventListener("resize",function(){clearTimeout(b),b=setTimeout(window.kadenceNavigation.runSubMenuContentSize,500)},!1),window.addEventListener("load",window.kadenceNavigation.runSubMenuContentSize),window.kadenceNavigation.runSubMenuContentSize()}},runSubMenuFullSize(){var a=null;a=1024<window.innerWidth?document.querySelectorAll(".wp-block-kadence-navigation .kadence-menu-mega-width-full > ul.sub-menu"):768<window.innerWidth?document.querySelectorAll(".wp-block-kadence-navigation .kadence-menu-mega-width-tablet-full > ul.sub-menu"):document.querySelectorAll(".wp-block-kadence-navigation .kadence-menu-mega-width-mobile-full > ul.sub-menu");for(let c=0;c<a.length;c++){var b=a[c].parentNode;a[c].style.left="",a[c].style.width=window.innerWidth+"px",a[c].style.left=-1*Math.abs(b.getBoundingClientRect().left).toString()+"px",a[c].style.transform="initial"}},initFullSubMenuSize(){var a=document.querySelectorAll(".wp-block-kadence-navigation .kadence-menu-mega-width-full > ul.sub-menu");if(a.length){var b;window.addEventListener("resize",function(){clearTimeout(b),b=setTimeout(window.kadenceNavigation.runSubMenuFullSize,500)},!1),window.kadenceNavigation.runSubMenuFullSize()}},init(){window.kadenceNavigation.initNavToggleSubmenus(),window.kadenceNavigation.initMobileToggleSub(),window.kadenceNavigation.initTrackOrientation(),window.kadenceNavigation.initFullSubMenuSize()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.kadenceNavigation.init):window.kadenceNavigation.init()})();
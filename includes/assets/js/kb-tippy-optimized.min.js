(function(){"use strict";function a(){const a=r.find(a=>!a.isActive);if(a)return a;if(r.length<p){const a=b();return r.push(a),a}return r[0]}function b(){const a=document.createElement("div");a.className="kb-tooltip-wrapper kb-tooltip-optimized",a.setAttribute("role","tooltip"),a.style.cssText=`
			position: absolute;
			z-index: 9999;
			pointer-events: none;
			opacity: 0;
			transition: opacity 0.2s;
		`;const b=document.createElement("div");b.className="kb-tooltip-arrow",b.setAttribute("data-popper-arrow","");const c=document.createElement("div");return c.className="kb-tooltip-content",a.appendChild(c),a.appendChild(b),document.body.appendChild(a),{element:a,content:c,arrow:b,isActive:!1,popper:null}}function c(a,b,c="top"){const d=b.getBoundingClientRect(),e=a.element.getBoundingClientRect();let f=0,g=0;"top"===c?(f=d.top-e.height-8,g=d.left+(d.width-e.width)/2):"bottom"===c?(f=d.bottom+8,g=d.left+(d.width-e.width)/2):"left"===c?(f=d.top+(d.height-e.height)/2,g=d.left-e.width-8):"right"===c?(f=d.top+(d.height-e.height)/2,g=d.right+8):void 0;const h=window.innerWidth,i=window.innerHeight;0>g&&(g=8),g+e.width>h&&(g=h-e.width-8),0>f&&("top"===c?f=d.bottom+8:f=8),f+e.height>i&&("bottom"===c?f=d.top-e.height-8:f=i-e.height-8),a.element.style.transform=`translate(${g}px, ${f}px)`}function d(b){clearTimeout(t),clearTimeout(u),t=setTimeout(()=>{s&&e();const d=b.getAttribute("data-kb-tooltip-content"),g=b.getAttribute("data-tooltip-id"),h=b.getAttribute("data-tooltip-placement")||"top";let i=d;if(!i&&g){const a=document.getElementById(g);a&&(i=a.innerHTML)}if(i){const d=a();d.isActive=!0,d.content.innerHTML=f(i),d.element.style.opacity="0",d.element.style.display="block",d.element.offsetHeight,c(d,b,h),d.element.style.opacity="1",s=d;const e="kb-tooltip-"+Date.now();d.element.id=e,b.setAttribute("aria-describedby",e)}},n)}function e(){if(clearTimeout(t),clearTimeout(u),s){const a=s;u=setTimeout(()=>{a.element.style.opacity="0",setTimeout(()=>{a.element.style.display="none",a.isActive=!1;const b=document.querySelector(`[aria-describedby="${a.element.id}"]`);b&&b.removeAttribute("aria-describedby")},200)},o),s=null}}function f(a){const b=document.createElement("div");return b.textContent=a,b.innerHTML}function g(a){const b=a.target.closest("[data-kb-tooltip-content], [data-tooltip-id]");b&&!b.disabled&&d(b)}function h(a){const b=a.target.closest("[data-kb-tooltip-content], [data-tooltip-id]");b&&e()}function i(a){const b=a.target;(b.hasAttribute("data-kb-tooltip-content")||b.hasAttribute("data-tooltip-id"))&&d(b)}function j(a){const b=a.target;(b.hasAttribute("data-kb-tooltip-content")||b.hasAttribute("data-tooltip-id"))&&e()}function k(){"IntersectionObserver"in window?(v=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&!w.has(a.target)&&(w.add(a.target),"A"!==a.target.tagName&&"BUTTON"!==a.target.tagName&&!a.target.hasAttribute("tabindex")&&a.target.setAttribute("tabindex","0"),v.unobserve(a.target))})},{threshold:q}),document.querySelectorAll("[data-kb-tooltip-content], [data-tooltip-id]").forEach(a=>{v.observe(a)})):document.querySelectorAll("[data-kb-tooltip-content], [data-tooltip-id]").forEach(a=>{"A"===a.tagName||"BUTTON"===a.tagName||a.hasAttribute("tabindex")||a.setAttribute("tabindex","0"),w.add(a)})}function l(){if(m(),!document.getElementById("kb-tooltip-optimized-styles")){const a=document.createElement("style");a.id="kb-tooltip-optimized-styles",a.textContent=`
				.kb-tooltip-optimized {
					background: rgba(0, 0, 0, 0.9);
					color: white;
					padding: 5px 8px;
					border-radius: 4px;
					font-size: 14px;
					line-height: 1.4;
					max-width: 250px;
					word-wrap: break-word;
				}
				.kb-tooltip-arrow {
					position: absolute;
					width: 8px;
					height: 8px;
					background: inherit;
					transform: rotate(45deg);
				}
			`,document.head.appendChild(a)}document.addEventListener("mouseenter",g,!0),document.addEventListener("mouseleave",h,!0),document.addEventListener("focusin",i,!0),document.addEventListener("focusout",j,!0);let a;const b=()=>{clearTimeout(a),a=setTimeout(()=>{if(s){const a=document.querySelector(`[aria-describedby="${s.element.id}"]`);if(a){const b=a.getAttribute("data-tooltip-placement")||"top";c(s,a,b)}}},10)};if(window.addEventListener("scroll",b,!0),window.addEventListener("resize",b),k(),window.MutationObserver){const a=new MutationObserver(a=>{a.forEach(a=>{a.addedNodes.forEach(a=>{if(1===a.nodeType){const b=a.querySelectorAll("[data-kb-tooltip-content], [data-tooltip-id]");b.forEach(a=>{v?v.observe(a):("A"!==a.tagName&&"BUTTON"!==a.tagName&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),w.add(a))})}})})});a.observe(document.body,{childList:!0,subtree:!0})}}function m(){document.removeEventListener("mouseenter",g,!0),document.removeEventListener("mouseleave",h,!0),document.removeEventListener("focusin",i,!0),document.removeEventListener("focusout",j,!0),clearTimeout(t),clearTimeout(u),r.forEach(a=>{a.element&&a.element.parentNode&&a.element.parentNode.removeChild(a.element)}),r.length=0,v&&v.disconnect(),w=new WeakSet}const n=100,o=0,p=5,q=.1,r=[];let s=null,t=null,u=null,v=null,w=new WeakSet;window.kadenceTooltipOptimized={init:l,destroy:m,hideTooltip:e},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l(),document.addEventListener("kadenceJSInitReload",l)})();